<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SQ Cloud â€” Progress Bar Component</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      color: #fff;
      padding: 40px 20px;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .container {
      max-width: 800px;
      width: 100%;
    }

    .hero {
      text-align: center;
      margin-bottom: 60px;
    }

    .hero h1 {
      font-size: 3em;
      margin-bottom: 0.5em;
      background: linear-gradient(90deg, #00d4ff 0%, #7b2cbf 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .hero p {
      font-size: 1.3em;
      color: #aaa;
      margin-bottom: 40px;
    }

    .progress-section {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 40px;
      backdrop-filter: blur(10px);
      margin-bottom: 40px;
    }

    .progress-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .progress-label {
      font-size: 1.2em;
      font-weight: 600;
    }

    .progress-count {
      font-size: 2em;
      font-weight: 700;
      color: #00d4ff;
    }

    .progress-bar-container {
      width: 100%;
      height: 40px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 20px;
      overflow: hidden;
      position: relative;
      margin-bottom: 16px;
      box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.3);
    }

    .progress-bar-fill {
      height: 100%;
      background: linear-gradient(90deg, #00d4ff 0%, #7b2cbf 100%);
      border-radius: 20px;
      transition: width 0.6s cubic-bezier(0.4, 0.0, 0.2, 1);
      position: relative;
      box-shadow: 0 0 20px rgba(0, 212, 255, 0.5);
    }

    .progress-bar-fill::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%);
      animation: shimmer 2s infinite;
    }

    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    .progress-text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-weight: 700;
      font-size: 1.1em;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
      z-index: 10;
    }

    .urgency {
      text-align: center;
      font-size: 1.1em;
      color: #ff6b6b;
      font-weight: 600;
      margin-top: 12px;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin-top: 30px;
    }

    .stat-card {
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 24px;
      text-align: center;
    }

    .stat-value {
      font-size: 2em;
      font-weight: 700;
      color: #00d4ff;
      margin-bottom: 8px;
    }

    .stat-label {
      font-size: 0.9em;
      color: #aaa;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .cta-button {
      width: 100%;
      padding: 20px 40px;
      font-size: 1.3em;
      font-weight: 700;
      color: #fff;
      background: linear-gradient(90deg, #00d4ff 0%, #7b2cbf 100%);
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
      margin-top: 30px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .cta-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(0, 212, 255, 0.3);
    }

    .cta-button:active {
      transform: translateY(0);
    }

    .pricing {
      text-align: center;
      margin-top: 20px;
      font-size: 1.2em;
    }

    .pricing .old-price {
      text-decoration: line-through;
      color: #888;
      margin-right: 8px;
    }

    .pricing .new-price {
      color: #00d4ff;
      font-weight: 700;
      font-size: 1.3em;
    }

    /* Real-time pulse animation when slots claimed */
    .progress-bar-fill.pulse {
      animation: pulse 0.5s ease-out;
    }

    @keyframes pulse {
      0%, 100% { box-shadow: 0 0 20px rgba(0, 212, 255, 0.5); }
      50% { box-shadow: 0 0 40px rgba(0, 212, 255, 1); }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="hero">
      <h1>SQ Cloud</h1>
      <p>Persistent Memory for AI Agents</p>
    </div>

    <div class="progress-section">
      <div class="progress-header">
        <span class="progress-label">Founder Slots</span>
        <span class="progress-count" id="countDisplay">327/500</span>
      </div>

      <div class="progress-bar-container">
        <div class="progress-bar-fill" id="progressFill" style="width: 65.4%">
          <span class="progress-text" id="progressText">65.4% Claimed</span>
        </div>
      </div>

      <p class="urgency" id="urgencyText">Only 173 spots remaining at founder pricing</p>

      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-value" id="claimedStat">327</div>
          <div class="stat-label">Claimed</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="remainingStat">173</div>
          <div class="stat-label">Remaining</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="percentStat">65%</div>
          <div class="stat-label">Complete</div>
        </div>
      </div>
    </div>

    <div class="pricing">
      <span class="old-price">$15/month</span>
      <span class="new-price">$10/month</span>
      <div style="margin-top: 8px; color: #aaa;">Limited founder pricing â€¢ Lock in forever</div>
    </div>

    <button class="cta-button" onclick="window.location.href='/signup'">
      Get Your Instance â†’
    </button>
  </div>

  <script>
    // Configuration
    const TOTAL_SLOTS = 500;
    const API_ENDPOINT = '/api/progress';
    const POLL_INTERVAL = 5000; // 5 seconds

    // Elements
    const progressFill = document.getElementById('progressFill');
    const progressText = document.getElementById('progressText');
    const countDisplay = document.getElementById('countDisplay');
    const urgencyText = document.getElementById('urgencyText');
    const claimedStat = document.getElementById('claimedStat');
    const remainingStat = document.getElementById('remainingStat');
    const percentStat = document.getElementById('percentStat');

    // Update UI with new count
    function updateProgress(claimedCount) {
      const remaining = TOTAL_SLOTS - claimedCount;
      const percent = (claimedCount / TOTAL_SLOTS * 100).toFixed(1);

      // Update progress bar
      progressFill.style.width = `${percent}%`;
      progressText.textContent = `${percent}% Claimed`;

      // Update count display
      countDisplay.textContent = `${claimedCount}/${TOTAL_SLOTS}`;

      // Update urgency message
      if (remaining <= 50) {
        urgencyText.textContent = `âš ï¸ Only ${remaining} spots left! Act fast!`;
        urgencyText.style.animation = 'blink 1s infinite';
      } else if (remaining <= 100) {
        urgencyText.textContent = `ðŸ”¥ Only ${remaining} spots remaining at founder pricing`;
      } else {
        urgencyText.textContent = `Only ${remaining} spots remaining at founder pricing`;
      }

      // Update stat cards
      claimedStat.textContent = claimedCount;
      remainingStat.textContent = remaining;
      percentStat.textContent = `${Math.floor(percent)}%`;

      // Pulse animation on update
      progressFill.classList.add('pulse');
      setTimeout(() => progressFill.classList.remove('pulse'), 500);
    }

    // Fetch current progress from API
    async function fetchProgress() {
      try {
        const response = await fetch(API_ENDPOINT);
        const data = await response.json();
        updateProgress(data.claimed_count);
      } catch (err) {
        console.error('Failed to fetch progress:', err);
      }
    }

    // Initialize
    fetchProgress();
    setInterval(fetchProgress, POLL_INTERVAL);

    // WebSocket for real-time updates (optional)
    /*
    const ws = new WebSocket('wss://sq.mirrorborn.us/ws/progress');
    ws.onmessage = (event) => {
      const data = JSON.parse(event.data);
      updateProgress(data.claimed_count);
    };
    */
  </script>
</body>
</html>
